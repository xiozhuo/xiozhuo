<!DOCTYPE html>
<html >
<head>
<meta charset="UTF-8">
<title>AA分账</title>
<style>
</style>
</head>
<body>
  <div align='center'>
    <h1>AA分账</h1>
    <table>
      <tr>
        <th>类型</th>
        <td><input type='radio' name='aa_type' value='Average' checked='checked'>平均分</td>
        <td><input type='radio' name='aa_type' value='Percent'>百分比</td>
        <td><input type='radio' name='aa_type' value='Amount'>金额比</td>
      </tr>
      <tr>
      	<th>总消费额</th>
       <td colspan='2'><input type='number' id='total_amt' name='total_amt' value='0' onchange='AA.checkNumber(this);'></td>
       <td rowspan='4' valign='bottom'><button onclick='AA.split();'>预拆分</button></td>
      </tr>
      <tr>
      	<th>额外费用</th>
       <td colspan='2'><input type='number' id='fee_amt' name='fee_amt' value='0' onchange='AA.checkNumber(this);'></td>
      </tr>
      <tr>
      	<th>总优惠额</th>
       <td colspan='2'><input type='number' id='benefit_amt' name='benefit_amt' value='0' onchange='AA.checkNumber(this);'></td>
      </tr>
      <tr>
      	<th>消费人数</th>
       <td colspan='2'><input type='number' id='aa_num' name='aa_num' value='0' onchange='AA.checkNumber(this);'></td>
      </tr>
    </table>
    <hr>
    <table id='result'>
    </table>
  </div>
  <script type="text/javascript">
    var AA = new Object();
    AA.checkNumber = function(element){
      if(element==null){
        return;
      }
      var val = element.value;
      var num= new Number(val);
      if(isNaN(num)){
        num = 0;
      }
      element.value = num;
    }
    
    AA.split = function(){
      var aaTypeTags = document.getElementsByName('aa_type');
      var aaType;
      for(var i=0;i<aaTypeTags.length;i++){
        if(aaTypeTags[i].checked){
          aaType = aaTypeTags[i].value;
        }
      }
      alert(aaType);
      var totalAmt = document.getElementById('total_amt').value;
      var feeAmt = document.getElementById('fee_amt').value;
      var benefitAmt = document.getElementById('benefit_amt').value;
      var aaSum = document.getElementById('aa_num').value;
      
      if('Percent'==aaType){
      }else if('Amount'==aaType){
      }else{
      }
    }
    AA.splitTable = function(totalAmt,feeAmt,benefitAmt,aaSum){
      var result = document.getElementById('result');
      result.innerHTML = '';
      if(aaSum==null||aaSum==0){
        return;
      }
      var avgTotal=totalAmt/aaSum;
      var avgFee=feeAmt/aaSum;
      var avgBenefit=benefitAmt/aaSum;
      for(var i=0;i<aaSum;i++){
        
      }
    }
    
    AA.addTr = function(idx,avgTotal,avgFee,avgBenefit){
    }
    AA.calculate = function(){
    }
    AA.reCalculate = function(){
    }
  </script>
</body>
</html>